<Profile>
<Name>Rift Bot Full</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>True</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />

<TargetBlacklists>
	<TargetBlacklist actorId="355635"/> <!-- Furnace -->
	<TargetBlacklist actorId="103919"/> <!-- Demonic Vessels -->
	<TargetBlacklist actorId="58317"/> <!-- Tool/Weapon Rack -->
	<TargetBlacklist actorId="289794"/> <!-- X1_PandExt_ArmorRack-7385 -->
	<TargetBlacklist actorId="212491"/> <!-- Pony Clouds -->
	<TargetBlacklist actorId="289756"/> <!-- Armor Racks -->
	<TargetBlacklist actorId="5758"/> <!-- some buged chest -->
	<TargetBlacklist actorId="464"/> <!-- some buged chest -->
	<TargetBlacklist actorId="357299"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357297"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357295"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357306"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357301"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="291743"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="362323"/> <!-- A buged NPC in A5 -->
</TargetBlacklists>

<Order>
	<ToggleTargeting questId="312429" stepId="2" combat="True" looting="True" lootRadius="100" killRadius="80" />
	<If condition="Me.IsInTown ">
		<While condition="CurrentWorldId != 304235">
			<UseWaypoint waypointNumber="46" questId="1"/>
			<WaitTimer questId="1" stepId="1" waitTime="2000"/>
		</While>
		<TrinityTownRun minFreeBagSlots="40"/>
		<LogMessage quest="1" step="2" output="[Rift Bot] Open Rift" />
		<While condition="not ActorExistsAt(345935, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 100)">
			<MoveToActor questId="312429" stepId="2" x="594" y="508" z="3" actorId="364715" interactRange="11" name="x1_OpenWorld_LootRunObelisk_B-596"  pathPrecision="5" pathPointLimit="250" isPortal="True"/> 
			<WaitTimer questId="312429" stepId="2" waitTime="1000" />
		</While>
		<LogMessage quest="1" step="2" output="[Rift Bot] Enter Rift" />
		<MoveToActor questId="312429" stepId="2" x="594" y="508" z="3" actorId="345935" interactRange="9" name="X1_OpenWorld_LootRunPortal-1589" isPortal="True" pathPrecision="5" pathPointLimit="250"/>  
		<WaitTimer questId="312429" stepId="2" waitTime="3000" />
	</If>
	
	<While condition="not ActorExistsAt(135248, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 100) and
					  not ActorExistsAt(363744, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 100)">
		<While condition="CurrentWorldId == 288454 or CurrentWorldId == 288685 or CurrentWorldId == 288687 or CurrentWorldId == 288798 or
						  CurrentWorldId == 288800 or CurrentWorldId == 288802 or CurrentWorldId == 288804">
			<If condition="CurrentWorldId == 288454">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876094" interactRange="15" destinationWorldId="288685"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876094" destinationWorldId="288685"/>
			</If>
			<If condition="CurrentWorldId == 288685">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876095" interactRange="15" destinationWorldId="288687"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876095" destinationWorldId="288687"/>
			</If>
			<If condition="CurrentWorldId == 288687">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876096" interactRange="15" destinationWorldId="288798"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876096" destinationWorldId="288798"/>
			</If>
			<If condition="CurrentWorldId == 288798">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876097" interactRange="15" destinationWorldId="288800"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876097" destinationWorldId="288800"/>
			</If>
			<If condition="CurrentWorldId == 288800">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876098" interactRange="15" destinationWorldId="288802"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876098" destinationWorldId="288802"/>
			</If>
			<If condition="CurrentWorldId == 288802">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876099" interactRange="15" destinationWorldId="288804"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876099" destinationWorldId="288804"/>
			</If>
			<If condition="CurrentWorldId == 288804">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876100" interactRange="15" destinationWorldId="288810"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876100" destinationWorldId="288810"/>
			</If>
			<WaitTimer questId="312429" stepId="2" waitTime="1000" />
			<LoadProfile file="ExploreFull.xml" />
		</While>
		<While condition="CurrentWorldId == 288810">
			<LogMessage quest="1" step="2" output="[Rift Bot] Explore last level" />
			<TrinityExploreDungeon questId="337492" stepId="1" until="FullyExplored" markerDistance="80" boxTolerance="0.1" boxSize="15"/>
		</While>
		<WaitTimer questId="1" stepId="1" waitTime="3000"/>
	</While>
	
	<While condition="not Me.IsInTown ">
		<LogMessage quest="1" step="2" output="[Rift Bot] Townstone Found" />
		<If condition="CurrentWorldId == 288454">
			<LogMessage quest="1" step="2" output="[Rift Bot] Explore current level" />
			<TrinityExploreDungeon questId="337492" stepId="1" until="FullyExplored" markerDistance="80" boxTolerance="0.1" boxSize="15"/>
			<WaitTimer questId="1" stepId="1" waitTime="1500"/>
			<HasQuestAndStep questId="337492" stepId="1">
				<LogMessage quest="1" step="2" output="[Rift Bot] Fully explored" />
			</HasQuestAndStep>
			<HasQuestAndStep questId="337492" stepId="3">
				<LogMessage quest="1" step="2" output="[Rift Bot] Fully explored" />
			</HasQuestAndStep>
			<HasQuestAndStep questId="337492" stepId="10">
				<LogMessage quest="1" step="2" output="[Rift Bot] Rift boss killed" />
			</HasQuestAndStep>
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<TrinityTownPortal questId="1" stepId="1" />
		<WaitTimer questId="1" stepId="1" waitTime="3000"/>
	</While>
	
	<If condition="Me.IsInTown ">
		<HasQuestAndStep questId="337492" stepId="10">
			<MoveToActor questId="312429" stepId="2" x="588" y="518" z="3" actorId="363744" interactRange="9" name="X1_LR_Nephalem-14254"  pathPrecision="5" pathPointLimit="250"/>
		</HasQuestAndStep>
	</If>

	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBFB')">
		<LogMessage quest="1" step="2" output="[Rift Bot] Logout and repeat" />
		<TrinityLoadProfile file="../Redirect/RBFB/RBFB.xml" />			
	</If>

	<HasQuestAndStep questId="337492" stepId="1">
		<LogMessage quest="1" step="2" output="[Rift Bot] Logout and repeat" />
		<TrinityLoadProfile file="../Redirect/RBF/RBF.xml" />
	</HasQuestAndStep>
	
	<HasQuestAndStep questId="337492" stepId="3">
		<LogMessage quest="1" step="2" output="[Rift Bot] Logout and repeat" />
		<TrinityLoadProfile file="../Redirect/RBF/RBF.xml" />
	</HasQuestAndStep>
	
	<LogMessage quest="1" step="2" output="[Rift Bot] Wait for portal close" />
	<While condition="ActorExistsAt(345935, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 1000)">
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
	</While>
	<ReloadProfile />
		
</Order>
</Profile>