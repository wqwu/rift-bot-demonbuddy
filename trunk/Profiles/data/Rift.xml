<Profile>
<Name>Rift Bot</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>True</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />

<TargetBlacklists>
    <TargetBlacklist actorId="114622" name="Tyrael" />
    <TargetBlacklist actorId="363744" name="Orek" /> 
	<TargetBlacklist actorId="355635"/> <!-- Furnace -->
	<TargetBlacklist actorId="103919"/> <!-- Demonic Vessels -->
	<TargetBlacklist actorId="58317"/> <!-- Tool/Weapon Rack -->
	<TargetBlacklist actorId="289794"/> <!-- X1_PandExt_ArmorRack-7385 -->
	<TargetBlacklist actorId="212491"/> <!-- Pony Clouds -->
	<TargetBlacklist actorId="289756"/> <!-- Armor Racks -->
	<TargetBlacklist actorId="5758"/> <!-- some buged chest -->
	<TargetBlacklist actorId="464"/> <!-- some buged chest -->
	<TargetBlacklist actorId="357299"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357297"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357295"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357306"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="357301"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="291743"/> <!-- Weapon Rack -->
	<TargetBlacklist actorId="362323"/> <!-- A buged NPC in A5 -->
	<TargetBlacklist actorId="157531"/> <!-- Broken Watermill in Oasis -->
	<TargetBlacklist actorId="170913"/> <!-- Broken door -->
	<TargetBlacklist actorid="198012"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="223275"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="289763"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="341124"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="167520"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="192466"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="192463"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="167519"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="289244"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="289246"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="77354"/> <!-- Weapon Rack -->
	<TargetBlacklist actorid="340114"/> <!-- Armor Rack -->
	<TargetBlacklist actorid="340113"/> <!-- Armor Rack -->
	<TargetBlacklist actorid="5671"/> <!-- Armor Rack -->
	<TargetBlacklist actorid="15937"/> <!-- Armor Rack -->
	<TargetBlacklist actorid="78030"/> <!-- Wilderness Scarecrow -->
</TargetBlacklists>

<Order>
	<ToggleTargeting questId="312429" stepId="2" combat="True" looting="True" lootRadius="150" killRadius="80" />
	<If condition="Me.IsInTown ">
		<While condition="CurrentWorldId != 172909">
			<UseWaypoint waypointNumber="26" questId="1"/>
			<WaitTimer questId="1" stepId="1" waitTime="500"/>
		</While>
		<TownRun minFreeBagSlots="40"/>
		<WaitTimer questId="312429" stepId="2" waitTime="500" />
		<LogMessage quest="1" step="2" output="[Rift Bot] Open Rift" />
		<MoveToActor questId="312429" stepId="2" x="468" y="387" z="1"  actorId="364715" interactRange="11" name="x1_OpenWorld_LootRunObelisk_B-483"  pathPrecision="5" pathPointLimit="250" statusText="" /> 
		<While condition="not ActorExistsAt(345935, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 100)">
			<MoveToActor questId="312429" stepId="2" x="468" y="387" z="1"  actorId="364715" interactRange="11" name="x1_OpenWorld_LootRunObelisk_B-483"  pathPrecision="5" pathPointLimit="250" statusText="" />
			<WaitTimer questId="312429" stepId="2" waitTime="500" />
		</While>
		<LogMessage quest="1" step="2" output="[Rift Bot] Enter Rift" />
		<MoveToActor questId="312429" stepId="2" x="468" y="387" z="1"  actorId="345935" interactRange="9" name="X1_OpenWorld_LootRunPortal-817"  isPortal="True" destinationWorldId="-1" pathPrecision="5" pathPointLimit="250" statusText="" />
		<WaitTimer questId="312429" stepId="2" waitTime="500" />
	</If>
	
	<While condition="not ActorExistsAt(135248, ZetaDia.Me.Position.X, ZetaDia.Me.Position.Y, ZetaDia.Me.Position.Z, 100) and
					  not Me.IsInTown">
		<While condition="IsActiveQuestAndStep(337492, 3)">
			<LogMessage quest="1" step="2" output="[Rift Bot] Boss Spawned" />
			<ExploreDungeon questId="337492" stepId="3" until="FullyExplored" markerDistance="60" boxTolerance="0.01" boxSize="20"/>
		</While>
		<If condition="IsActiveQuestAndStep(337492, 1) or (Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBF') and IsActiveQuestAndStep(337492, 10))">
			<If condition="CurrentWorldId == 288454">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876094" interactRange="15" destinationWorldId="288685" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876094" destinationWorldId="288685" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288685">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876095" interactRange="15" destinationWorldId="288687" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876095" destinationWorldId="288687" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288687">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876096" interactRange="15" destinationWorldId="288798" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876096" destinationWorldId="288798" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288798">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876097" interactRange="15" destinationWorldId="288800" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876097" destinationWorldId="288800" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288800">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876098" interactRange="15" destinationWorldId="288802" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876098" destinationWorldId="288802" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288802">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876099" interactRange="15" destinationWorldId="288804" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876099" destinationWorldId="288804" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288804">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876100" interactRange="15" destinationWorldId="288810" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876100" destinationWorldId="288810" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288810">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876101" interactRange="15" destinationWorldId="288814" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876101" destinationWorldId="288814" isPortal="True"/>
			</If>
			<If condition="CurrentWorldId == 288814">
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876102" interactRange="15" destinationWorldId="288816" isPortal="True"/>
				<MoveToMapMarker questId="312429" stepId="2" exitNameHash="1938876102" destinationWorldId="288816" isPortal="True"/>
			</If>
			<WaitTimer questId="312429" stepId="2" waitTime="500" />
			<LoadProfile file="RiftExplore.xml" />
		</If>
		<If condition="not Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBF') and IsActiveQuestAndStep(337492, 10)">
			<LogMessage quest="1" step="2" output="[Rift Bot] Rift boss killed" />
			<WaitTimer questId="1" stepId="1" waitTime="1000"/>
			<WaitTimer questId="1" stepId="1" waitTime="1000"/>
			<WaitTimer questId="1" stepId="1" waitTime="1000"/>
			<WaitTimer questId="1" stepId="1" waitTime="1000"/>
			<UseTownPortal questId="1" />
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
	</While>
	
	<While condition="not Me.IsInTown ">
		<If condition="IsActiveQuestAndStep(337492, 1)">
			<LogMessage quest="1" step="2" output="[Rift Bot] Townstone found" />
			<If condition="not Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBC') or CurrentWorldId == 288454">
				<LogMessage quest="1" step="2" output="[Rift Bot] Explore current level" />
				<ExploreDungeon questId="337492" stepId="1" until="FullyExplored" markerDistance="60" boxTolerance="0.01" boxSize="20"/>
				<WaitTimer questId="1" stepId="1" waitTime="500"/>
			</If>
		</If>
		<If condition="IsActiveQuestAndStep(337492, 1) and not Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBC')">
			<LogMessage quest="1" step="2" output="[Rift Bot] Fully explored but no boss spawned. Now go to explore the first level" />
			<UseTownPortal questId="1" />
			<WaitTimer questId="1" stepId="1" waitTime="500"/>
			<MoveToActor questId="312429" stepId="2" x="594" y="508" z="3" actorId="345935" interactRange="9" name="X1_OpenWorld_LootRunPortal-1589" isPortal="True" pathPrecision="5" pathPointLimit="250"/>  
			<WaitTimer questId="312429" stepId="2" waitTime="500" />
			<LogMessage quest="1" step="2" output="[Rift Bot] Explore current level" />
			<ExploreDungeon questId="337492" stepId="1" until="FullyExplored" markerDistance="60" boxTolerance="0.01" boxSize="20"/>
			<WaitTimer questId="1" stepId="1" waitTime="500"/>
		</If>
		<If condition="IsActiveQuestAndStep(337492, 1) and not Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBC')">
				<LogMessage quest="1" step="2" output="[Rift Bot] Not able to spawn the boss with first and last levels fully explored" />
		</If>
		<If condition="IsActiveQuestAndStep(337492, 3)">
			<LogMessage quest="1" step="2" output="[Rift Bot] Boss Spawned" />
			<ExploreDungeon questId="337492" stepId="3" until="FullyExplored" markerDistance="60" boxTolerance="0.01" boxSize="20"/>
		</If>
		<If condition="IsActiveQuestAndStep(337492, 10)">
			<LogMessage quest="1" step="2" output="[Rift Bot] Rift boss killed" />
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>
		<UseTownPortal questId="1" />
		<WaitTimer questId="1" stepId="1" waitTime="3000"/>
	</While>
	
	<If condition="Me.IsInTown ">
		<If condition="IsActiveQuestAndStep(337492, 10)">
			<MoveToActor questId="312429" stepId="2" x="453" y="402" z="0"  actorId="363744" interactRange="9" name="X1_LR_Nephalem-482"  pathPrecision="5" pathPointLimit="250" statusText="" />
		</If>
	</If>

	<LogMessage quest="1" step="2" output="[Rift Bot] Reset and repeat" />
	
	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBCB')">
		<LoadProfile file="RBCB.xml" />			
	</If>

	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBEB')">
		<LoadProfile file="RBEB.xml" />			
	</If>

	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBFB')">
		<LoadProfile file="RBFB.xml" />			
	</If>
	
	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBC')">
		<LoadProfile file="RBC.xml" />			
	</If>
	
	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('RBE')">
		<LoadProfile file="RBE.xml" />			
	</If>

	<LoadProfile file="RBF.xml" />
</Order>
</Profile>